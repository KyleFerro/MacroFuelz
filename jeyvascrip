let entries = JSON.parse(localStorage.getItem('entries')) || [];

function addEntry() {
  const food = document.getElementById('food').value;
  const cal = parseInt(document.getElementById('calories').value);
  entries.push({ food, cal });
  localStorage.setItem('entries', JSON.stringify(entries));
  render();
}

function render() {
  const list = document.getElementById('entryList');
  list.innerHTML = '';
  let total = 0;
  entries.forEach((e, i) => {
    const li = document.createElement('li');
    li.textContent = `${e.food}: ${e.cal} cal`;
    list.appendChild(li);
    total += e.cal;
  });
  document.getElementById('total').textContent = total;
}

window.onload = render;
